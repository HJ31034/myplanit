<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="main/layout/basic">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">
    <title>Checkout example · Bootstrap v5.1</title>
 	<th:block layout:fragment="css">
    <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/checkout/">
	<link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/sign-in/">
	<link href="assets/dist/bootstrap.min.css" rel="stylesheet">
     <link href="assets/dist/register.css" rel="stylesheet">
	 <link href="assets/dist/signin.css" rel="stylesheet">
         
    <style>
    .id_ok{color:green; display: none;}
	.id_already{color:#6A82FB; display: none;}
	/*.bg-light{position:center; background-color:black;}*/
	
	
    </style>
    </th:block>
    
        <script src="https://code.jquery.com/jquery-latest.min.js"></script>          
<script th:inline="javascript" >





function Chk() {

	var result = Array();

	var cnt = 0;

	var chkbox = $(".form-check-input");

	for(i=0;i<chkbox.length;i++) {

		if(chkbox[i].checked == true) {

			result[cnt] = chkbox[i].value;

			cnt++;

		}

	}

	$('#result').val(result);

}



function checkId(){
    var userId = $('#userId').val();
$.ajax({
    url:'/idCheck',
    type:'post',
    data:{userId:userId},
    dataType:'json',
    success:
    	function(cnt){ //컨트롤러에서 넘어온 cnt값을 받는다 
    	
        if(cnt != 1){ //cnt가 1이 아니면(=0일 경우) -> 사용 가능한 아이디 
            
        	$('.id_ok').css("display","inline-block"); 
            $('.id_already').css("display", "none");
        } else if (cnt ==1){ // cnt가 1일 경우 -> 이미 존재하는 아이디
            $('.id_already').css("display","inline-block");
            $('.id_ok').css("display", "none");
        } 
   
    	
    
    },
    error:function(){
        alert("에러입니다");
    }
});
};



//비밀번호 확인 스크릡트 
$(function(){
$("#alert-success").hide();
$("#alert-danger").hide();
$("input").keyup(function(){
    var pwd1 = $("#pwd1").val();
    var pwd2 = $("#pwd2").val();
    
    if(pwd1 != ""){
        if(pwd1 == pwd2 && pwd2 !=""){
            $("#alert-success").show();
            $("#alert-danger").hide();
            $("#alert-info").hide();
            $("#submit").removeAttr("disabled");
        }else if(pwd1 != pwd2 && pwd2!="" ) {
            $("#alert-success").hide();
            $("#alert-danger").show();
            $("#alert-info").hide();
            $("#submit").attr("disabled", "disabled");
            
        } 
    }
});
});

$(function(){

	$("input").keyup(function(){
	    var phone = $("#phone").val();
	    var patternPhone= new RegExp("01[016789]-[^0][0-9]{2,4}-[0-9]{3,4}");
	    
	    if(phone != ""){
	        if(phone.length >= 3){
	            $("#phone").val(phone.replace(/[^0-9]/g, '')
	          		  .replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g, "$1-$2-$3").replace(/(\-{1,2})$/g, ""));
	           
	           
	            $("#submit").removeAttr("disabled");
	        }else if(phonePattern.test(phone) ) {
	            
	           
	            $("#submit").attr("disabled", "disabled");

	        } 
	    }
	});
	}); 

</script>

  </head>
  
  
  
  
  <th:block layout:fragment="content">
   
  
  
  
  <div class="bg-light">
    
    
<div class="container">

  <main class="form-register">
  <div class="py-5 text-center">
      
    </div>
      
      
      <div class="blank2"></div>
     <div class="blank2"></div>
     
      
        <h4 class="mb-3">회원가입</h4>
        
        
        <form class="needs-validation" action="" id="regForm" name="regForm"
         method="post" modelAttribute="user" onsubmit="return validation();">
          
          
          
          <div class="row g-3">
            
	            
            
            
            <div class="col-12">
              <label for="username" class="form-label">이름 <span class="text-muted"></span></label>
              <input type="text" class="form-control" name="userName" id="username"
              th:value="${user?.userName}" placeholder="이름" required="required">
              
            </div>
            <div class="col-12">
              <label for="username" class="form-label">아이디</label>
              <div class="input-group has-validation">
                <span class="input-group-text">@</span>
                
                <input type="text" class="form-control" name="userId" id="userId" 
                th:value="${user?.userId}"
                placeholder="USERID" autocomplete="username" required onchange="checkId()"/>
                <span th:text="${valid_userId}"></span>
                
              <!--   <span>
                <button type="button" onclick="fn_idChk();" value="N" id="idChk"
                class="w-100 btn btn-lg btn-primary">중복체크</button>
                </span>
               -->
              </div>
              <br>
                <div>
                <p class="id_ok">사용 가능한 아이디입니다.</p>
				<p class="id_already">누군가 이 아이디를 사용하고 있어요.</p>
                </div>
            </div>



            <div class="col-12">
              <label for="password" class="form-label">비밀번호 </label>
              <input type="password" class="form-control" name="password" id="pwd1" 
              th:value="${user?.password}"
              autocomplete="new-password" placeholder="PASSWORD" required/>
              <span th:text="${valid_password}"></span>
            </div>
            
            <div class="col-12">
              <label for="password" class="form-label">비밀번호 확인</label>
              <input type="password" class="form-control" name="password2" id="pwd2"
              autocomplete="new-password"  placeholder="RE-PASSWORD" required/>
             <div class="alert alert-success" id="alert-success">비밀번호가 일치합니다.</div>
			<div class="alert alert-danger" id="alert-danger">비밀번호가 일치하지 않습니다. 다시한번 확인하여 주세요.</div>
          	<div class="alert alert-info" id="alert-info"> 비밀번호 영문 대소문자 특수문자 최소 1개 포함 8-20자리 조합으로 만드시오</div>
            </div>
           
            
    
            
	            <div class="col-12">
              <label for="email" class="form-label">이메일 <span class="text-muted"></span></label>
              <input type="email" class="form-control" name="email" id="email" 
              th:value="${user?.email}" placeholder="you@example.com">
  			<span th:text="${valid_email}"></span>
            </div>
            
            <div class="col-12">
              <label for="address2" class="form-label">휴대폰 <span class="text-muted"></span></label>
              <input type="tel" class="form-control" name="phone" id="phone"  maxlength="13"
              th:value="${user?.phone}" placeholder="010-1234-5678(-없이)">
              <span th:text="${valid_phone}"></span>
            </div>

             
             
			<div class="col-12">
			
            <label class="form-check-label" for="same-address">관심식물(필수)</label><br>
            
        <input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios0" value="0" >
  		<label class="form-check-label" >
    	잘 모르겠음 
  		</label>   
  		<br> 
            
           
             
        <input class="form-check-input" type="checkbox" name="keyId" id="keyId1" value="1" >
  		<label class="form-check-label" >
    	잎을 감상하는  
  		</label>
            
        <input class="form-check-input" type="checkbox" name="keyId" id="keyId2" value="2" >
  		<label class="form-check-label" >
    	꽃을 감상하는  
  		</label>
  		
         <input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios3" value="3">
  		<label class="form-check-label">
    	열매를 감상하는  
  		</label>   
  		
  		<input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios4" value="4">
  		<label class="form-check-label" >    	다육/선인장 
  		</label>
          <br>
          
         
        <input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios5" value="5">
  		<label class="form-check-label" >  초보자용  
  		</label>  
  		<input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios6" value="6">
  		<label class="form-check-label" >  선물하기 좋은
  		</label>  
  		
  		<input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios7" value="7">
  		<label class="form-check-label" >  공기정화
  		</label>  
  		
  		<input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios8" value="8">
  		<label class="form-check-label" >  빛이적어도 되는
  		</label>  
  		
  		<input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios9" value="9">
  		<label class="form-check-label" >  향기나는
  	
  		</label>  
  		
  		  <input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios10" value="10">
  		<label class="form-check-label" >  반려동물이 안전한
  		</label>  
  		
  		        <input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios11" value="11">
  		<label class="form-check-label" >  목대있는
  		</label>  
  		
  		
  		
  		        <input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios12" value="12">
  		<label class="form-check-label" >  흙이 필요없는
  		</label>  
  		        <input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios13" value="13">
  		<label class="form-check-label" >  덩굴로 자라는
  		</label>  
  		
  		        <input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios14" value="39">
  		<label class="form-check-label" >  늘어져 자라는
  		</label>  
            
                    <input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios15" value="40">
  		<label class="form-check-label" >  몸통이 납작한
  		</label>  
  		
  		        <input class="form-check-input" type="checkbox" name="keyId" id="exampleRadios16" value="41">
  		<label class="form-check-label" >  가시가 없는
  		</label>  
  		
  		
  		
          </div>
           
           
           
           
          
          </div>
          
          

          <hr class="my-4">

          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="same-address">
            <label class="form-check-label" for="same-address">약관동의</label>
          </div>



                <hr class="my-4">

         
          <button class="w-100 btn btn-lg btn-primary" type="submit"
				id="submit" style="background-color: #9FCF62; border-color: #9FCF62;">회원가입</button>
        </form>
        <div class="blank2"></div>
        
        
     
    
 
  </main>

          </div>

     </div>
     
     
</th:block>


	


  
 
</html>