<!DOCTYPE html>
<!-- saved from url=(0048)file:///Users/johndoe/Downloads/user-update.html -->
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
	layout:decorate="main/layout/basic2"
	lang="en">
	<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">
    <title>Sidebars · Bootstrap v5.1</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/sidebars/">
    <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/checkout/">
    <link href="../assets/dist/register.css" rel="stylesheet">
	 <link href="../assets/dist/signin.css" rel="stylesheet">
    
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script th:inline="javascript">


/* /^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/; */

function useredit(){
	var email = $("#email").val();
	var reg = 
	/^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/;
	
	if(email !=""){
		if(!reg.test(email)===false){
			 
			 $("#submit").removeAttr("disabled");
				alert("회원정보가 성공적으로 변경되었습니다.");
		} 
			
		 else{
			 $("#submit").attr("disabled", "disabled");
			alert("이메일 형식을 확인해 주세요 eg)xxxxx@xxx.com");
		}	
		
	}
	
	
}
	
	
	
 $(function(){
	$("#alert-success").hide();
	$("#alert-danger").hide();
	$("input").keyup(function(){
	    var phone = $("#phone").val();
	    var patternPhone= new RegExp("01[016789]-[^0][0-9]{2,4}-[0-9]{3,4}");
	    
	    if(phone != ""){
	        if(phone.length >= 3){
	            
	            $("#alert-danger").hide();
	            $("#phone").val(phone.replace(/[^0-9]/g, '')
	          		  .replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g, "$1-$2-$3").replace(/(\-{1,2})$/g, ""));
	           /*  $("#phone").val(phone.replace(/\B(?=(\d{3})+(?!\d))/g, "-"));
	            */ 
	           
	            $("#submit").removeAttr("disabled");
	        }else if(phonePattern.test(phone) ) {
	            $("#alert-success").hide();
	            $("#alert-danger").show();
	           
	            $("#submit").attr("disabled", "disabled");
	        } 
	    }
	});
	}); 

	
	$(function(){
		$("#alert-success").hide();
		$("#invalid-feedback").hide();
		$("input").change(function(){
		    var email = $("#email").val();
		    var reg = /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/;
		    			
		    if(email != ""){
		        if(!reg.test(email)){
		            
		            
		            
		        	$("#.invalid-feedback").show();
		            $("#submit").attr("disabled", "disabled");
		            return false;
		        }else {
		        	$("#.invalid-feedback").hide();
		            $("#submit").removeAttr("disabled");
		            
		        } 
		    }
		});
		});
	
	
	
	


</script>
    

    <!-- Bootstrap core CSS -->
<link href="../assets/dist/bootstrap.min.css" rel="stylesheet">


    <style>
   
      
      .mb-3 {
      margin-top:50px;
      }
    </style>

    
    <!-- Custom styles for this template -->
    <link href="../assets/dist/sidebars.css" rel="stylesheet">
    <link href="../assets/dist/register.css" rel="stylesheet">
  <link href="../assets/dist/signin.css" rel="stylesheet">
  

  </head>
  <th:block layout:fragment="content">


<th:block th:if="${session.userdto !=null}">
<main>

 <div class="container"> 
  
  <br>
				<br>
				<br>
				<br>
				<br>
				<br>
    
  

    


  <div class="row g-5">
      <br>
    <div class="hi">
      
<br>
<br>
<br>

      <form class="form-register" novalidate="" method="post" onsubmit="return validation();">
        <div class="row g-3">
          <h4 class="mb-3">회원정보 수정</h4>
          <div class="col-12">
            <label for="address2" class="form-label">이름</label>
            <input type="text"  class="form-control" id="userName" name="userName"
            th:value="${session.userdto.userName}" placeholder="이름" >
          </div>

          <div class="col-12">
            <label for="username" class="form-label">아이디</label>
            <div class="input-group has-validation">
              <span class="input-group-text">@</span>
              <input type="text" class="form-control" name="userId"
              th:value="${session.userdto.userId}" id="userId" placeholder="" required="" readonly >
            <div class="invalid-feedback">
                Your username is required.
              </div>
            </div>
          </div>
          
         
 
          <div class="col-12">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" name="email"
              th:value="${session.userdto.email}"
            id="email" placeholder="you@example.com" for="email" required>
            <div class="invalid-feedback">
              Please enter a valid email address for updates.
            </div>
          </div>

          <div class="col-12">
            <label for="phone" class="form-label">휴대폰</label>
            <input type="tel" class="form-control" id="phone" 
            th:value="${session.userdto.phone}" name="phone"
            maxlength="13"
            placeholder="휴대폰 번호(-없이)" required>
            <div class="alert alert-success" id="alert-success">숫자만 입력 하시면 됩니다.</div>
			<div class="alert alert-danger" id="alert-danger">휴대폰 번호를 정확히 입력해 주세요.</div>
          	
            <div class="invalid-feedback">
              Please enter a valid phone-number for updates.
            </div>
          </div>
    
		
		
	
          
        </div>

       
<br>
       
      
        
      <button class="w-100 btn btn-lg btn-primary" type="submit" id="submit" onclick="useredit()"
				style="background-color: #9FCF62; border-color: #9FCF62;">수정하기
				</button>
				<div class="blank"></div>
				<div class="blank2"></div>
				
<br>
<br>
      </form>
      
    </div>
  </div>
  

 </div> 
 <div class="blank"></div>
</main>

</th:block> <!-- 로그인 관련 -->


</th:block>
<th:block th:if="${session.userdto == null}">
<h1>올바르지 않은 접근입니다. 로그인 화면으로 이동해 주세요</h1>
<a th:href= "@{/login}">로그인 하러가기</a>
</th:block>
    <script src="/js/bootstrap.bundle.min.js"></script>

      <script src="/js/sidebars.js"></script>
      <script src="/js/register.js"></script>


</html>