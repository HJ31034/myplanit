<!DOCTYPE html>
<!-- saved from url=(0048)file:///Users/johndoe/Downloads/user-update.html -->
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
	layout:decorate="main/layout/basic2"
	lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author"
	content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
<meta name="generator" content="Hugo 0.88.1">
<title>Sidebars · Bootstrap v5.1</title>

<link rel="canonical"
	href="https://getbootstrap.com/docs/5.1/examples/sidebars/">
<link rel="canonical"
	href="https://getbootstrap.com/docs/5.1/examples/checkout/">



<!-- Bootstrap core CSS -->
<link href="../assets/dist/bootstrap.min.css" rel="stylesheet">


<style>
.bd-placeholder-img {
	font-size: 1.125rem;
	text-anchor: middle;
	-webkit-user-select: none;
	-moz-user-select: none;
	user-select: none;
}

@media ( min-width : 768px) {
	.bd-placeholder-img-lg {
		font-size: 3.5rem;
	}
}

.mb-3 {
	margin-top: 50px;
}

.pass_ok {
	color: green;
	display: none;
}

.pass_no {
	color: #6A82FB;
	display: none;
}
</style>


<!-- Custom styles for this template -->
<link href="../assets/dist/sidebars.css" rel="stylesheet">
<link href="../assets/dist/register.css" rel="stylesheet">
<link href="../assets/dist/signin.css" rel="stylesheet">

<script src="/js/bootstrap.bundle.min.js"></script>

	<script src="https://code.jquery.com/jquery-latest.min.js"></script>
	<script th:inline="javascript">
//비밀번호 확인 스크릡트 

function passedit(){
	var pwd1 = $("#pwd1").val();
	var reg = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,20}$/;
	var pwd2 = $("#pwd2").val();
	if(pwd1 =="" && !reg.test(pwd1)){
		 $("#submit").attr("disabled", "disabled");
	} else if(pwd1 != pwd2){
		$("#submit").attr("disabled", "disabled");
		
	} else{
		$("#submit").removeAttr("disabled");
		alert("비밀번호가 성공적으로 변경되었습니다. 다시로그인 해 주세요!");
	}
	
}
	

	
		 
	     
	    

	$(function(){
			$("#pwd1").change(function(){
					 var pwd1 = $("#pwd1").val();
					/* var reg = new RegExp("^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,}$"); 
					 */ 
					 var reg = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,20}$/;
					if(!reg.test(pwd1)){
						
						 $('.pass_no').css("display","inline-block").show();
						 $('.pass_ok').css("display","inline-block").hide();
						 $("#submit").attr("disabled", "disabled");
							return false
						} else{
							$('.pass_ok').css("display","inline-block").show(); 
							$('.pass_no').css("display","inline-block").hide();
							$("#submit").removeAttr("disabled");
						}

				 });
					 
		 });
	
	$(function(){
		$("#pwd2").change(function(){
				 var pwd2 = $("#pwd2").val();
				/* var reg = new RegExp("^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,}$"); 
				 */ 
				 var reg = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,20}$/;
				if(!reg.test(pwd2)){
					

					 $("#submit").attr("disabled", "disabled");
						return false
					} else{

						$("#submit").removeAttr("disabled");
					}

			 });
				 
	 });
	 


 
	 $(function(){
		
		 $("#alert-success").hide();
		 $("#alert-danger").hide();
		 $("#pwd1").change(function(){
		     var pwd1 = $("#pwd1").val();
			var pwd2 =  $("#pwd2").val();

			 
		     if(pwd1 != ""){
		         if((pwd1 == pwd2) && pwd2 !=""){
		             $("#alert-success").hide();
		             $("#alert-danger").hide();
		             $("#alert-info").hide();
		             $("#submit").removeAttr("disabled"); 
		         }else if( (pwd1 != pwd2) && pwd2!="") {
		             $("#alert-success").hide();
		             $("#alert-danger").show();
		             $("#alert-info").hide();
		             $("#submit").attr("disabled", "disabled");
		         } else{
		        	 $("#alert-success").hide();
		             $("#alert-danger").hide();
		             $("#alert-info").hide();
		         }
		     }

		 });
		 
		 });
	 
	 function noSpaceForm(obj) { // 공백사용못하게
		    var str_space = /\s/;  // 공백체크
		    if(str_space.exec(obj.value)) { //공백 체크
		        alert("해당 항목에는 공백을 사용할수 없습니다.");
		        obj.focus();
		        obj.value = obj.value.replace(' ',''); // 공백제거
		        return false;
		    }
		 // onkeyup="noSpaceForm(this);" onchange="noSpaceForm(this);"
		}
 
		
  
  //비밀번호 영문 대소문자,특수기호,숫자 각 1개 포함한 조합으로 8 자리 이상
   /* var reg = "^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$"; 
 */
 
	  
	 
  
			 


	



 


</script>
	<script src="/js/sidebars.js"></script>
	<script src="/js/register.js"></script>
</head>
<th:block layout:fragment="content">


	<th:block th:if="${session.userdto !=null}">
		<div class="blank3"></div>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<main class="form-register">
<div class="container">
			<h1 class="visually-hidden">Sidebars examples</h1>









				


			<div class="row g-5">
				<br>
				<div class="hi">
					<h4 class="mb-3">비밀번호 수정</h4>


					<form class="needs-validation" method="post" action=""
						novalidate="">
						<div class="row g-3">







							<div class="col-12" style="display: none;">
								<label for="username" class="form-label">아이디</label>
								<div class="input-group has-validation">
									<span class="input-group-text">@</span> <input type="text"
										class="form-control" name="userId"
										th:value="${session.userdto.userId}" id="userId"
										placeholder="아이디">

								</div>
							</div>

						

							<div class="col-12">
								<label for="password" class="form-label">새 비밀번호 </label> <input
									type="password" class="form-control" name="password" id="pwd1"
									onchange="valid(),noSpaceForm(this);" autocomplete="new-password"
									onkeyup="noSpaceForm(this);" 
									placeholder="PASSWORD" required /> <span
									th:text="${valid_password}"></span>
								<div>
									<p class="pass_ok">사용 가능한 비밀번호 입니다.</p>
									<p class="pass_no">비밀번호 형식을 다시 확인해 주세요.</p>
								</div>
							</div>

							<div class="col-12">
								<label for="password" class="form-label">새 비밀번호 확인</label>
								 <input
									type="password" class="form-control" name="password2" id="pwd2"
									onkeyup="noSpaceForm(this);" onchange="noSpaceForm(this);"
									autocomplete="new-password" placeholder="RE-PASSWORD" required />
								<div class="alert alert-success" id="alert-success">비밀번호가
									일치합니다.</div>
								<div class="alert alert-danger" id="alert-danger">비밀번호가
									일치하지 않습니다. 다시한번 확인하여 주세요.</div>
								<div class="alert alert-info" id="alert-info">비밀번호 영문 대소문자
									특수문자 최소 1개 포함 8-20자리 조합으로 만드시오</div>
							</div>





						</div>

<br>
















						<button class="w-100 btn btn-primary btn-lg" id="submit" onclick="passedit()"
							style="background-color: #9FCF62; border-color: #9FCF62;"
							type="submit">수정하기</button>

					</form>

<div class="blank3"></div>
<br>
		<br><br>
		<br><br>
		<br><br>
		<br><br>
		<br><br>
		


				</div>
			</div>


</div>
		</main>

	</th:block> <!--  로그인 관련  -->
</th:block>
	<th:block th:if="${session.userdto == null}">
		<h1>올바르지 않은 접근입니다. 로그인 화면으로 이동해 주세요</h1>
		<a th:href="@{/login}">로그인 하러가기</a>
	</th:block>

	


</html>